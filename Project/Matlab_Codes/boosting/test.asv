clear all;close all;

load 'dataX.mat';
load 'dataY.mat';

N_users = size(trainsetY,2);
N_feat = size(trainsetX,2);
N_sample = size(trainsetX,1);

err_rate_bayes = zeros(N_users,1);
ID_rate_bayes = zeros(N_users,1);

err_rate_DT = zeros(N_users,1);
ID_rate_DT = zeros(N_users,1);

err_rate_BNB = zeros(N_users,1);
ID_rate_BNB = zeros(N_users,1);

err_rate_BDT = zeros(N_users,1);
ID_rate_BDT = zeros(N_users,1);

err_rate_BOOST = zeros(N_users,1);
ID_rate_BOOST = zeros(N_users,1);

for i = 1:1
    u_trainsetY = trainsetY(:,i);
    
    result_bayes = bayes_learner(trainsetX,u_trainsetY);
    err_rate_bayes(i) = sum(result_bayes ~= u_trainsetY) / length(u_trainsetY);
    ID_rate_bayes(i) = sum(and(result_bayes,u_trainsetY)) / sum(u_trainsetY);

    result_BNB = boosted_bayes(trainsetX,u_trainsetY,trainsetX);
    err_rate_BNB(i) = sum(result_BNB ~= u_trainsetY) / length(u_trainsetY);
    ID_rate_BNB(i) = sum(and(result_BNB,u_trainsetY)) / sum(u_trainsetY);
    
    result_DT = tree_learner(trainsetX,u_trainsetY);
    err_rate_DT(i) = sum(result_DT ~= u_trainsetY) / length(u_trainsetY);
    ID_rate_DT(i) = sum(and(result_DT,u_trainsetY)) / sum(u_trainsetY);
  
    result_BDT = boosted_DT(trainsetX,u_trainsetY,trainsetX);
    err_rate_BDT(i) = sum(result_BDT ~= u_trainsetY) / length(u_trainsetY);
    ID_rate_BDT(i) = sum(and(result_BDT,u_trainsetY)) / sum(u_trainsetY);
    
    disp('bayes:');disp(ID_rate_bayes(i));
    disp('BNB:');disp(ID_rate_bayes(i));
    disp('DT:');disp(ID_rate_bayes(i));
    disp('b:');disp(ID_rate_bayes(i));
end

